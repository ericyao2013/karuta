// VERILOG_OUTPUT: a.v
def Kernel.x() {
 c.write(10);
 assert(d.read() == 10);
}
def Kernel.y() {
 d.write(c.read());
}

channel Kernel.c = int;
channel Kernel.d = int;
thread Kernel.f = x();
thread Kernel.g = y();

run();
compile();
writeHdl("a.v");
