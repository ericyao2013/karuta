// VERILOG_OUTPUT: a.v
def Kernel.f(x int) (int) {
  return x + 1;
}

@embed(resource = "a", verilog="resource.v", file="copy", module="hello")
def Kernel.ex()
{
}

def Kernel.main()
{
 var p *int;
 *p = 0;
 ex();
 *p = f(*p);
 ex();
}



//main();
//Kernel.setDump("/tmp/a");
Kernel.compile();
Kernel.writeHdl("a.v");
