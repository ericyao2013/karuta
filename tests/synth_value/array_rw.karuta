// VERILOG_OUTPUT: a.v 
shared Kernel.x int[] = {1,2,3,4};

def Kernel.main() {
  assert(x[1] == 2);
  x[1] = 0;
  assert(x[1] == 0);
}

compile();
writeHdl("a.v");
